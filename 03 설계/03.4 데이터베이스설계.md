## 03.4 데이터베이스 설계
### 03.4.1 데이터베이스 설계란?
데이터베이스 설계는 데이터베이스 시스템을 구축하는 과정 중 가장 중요한 부분 중 하나입니다. 이 단계에서는 데이터의 구조, 관계 및 저장 방법을 결정하여 시스템이 요구 사항을 충족하고 효율적으로 작동할 수 있도록 합니다.

첫 번째로 고려해야 할 사항은 데이터베이스의 목적과 사용자 요구사항입니다. 어떤 종류의 데이터가 저장되어야 하며, 이 데이터는 어떻게 사용되고 관리되어야 하는지를 명확히 이해해야 합니다. 이를 토대로 데이터 모델을 설계하게 되는데, 이는 데이터베이스의 구조를 정의하는 과정입니다. 그 과정에서 UML(unified modeling language)를 많이 사용합니다.

데이터 모델링은 주로 개념적, 논리적, 물리적 세 가지 수준으로 나뉩니다. 개념적 모델은 엔터티와 그들 간의 관계를 나타내는 개념적 구조를 정의하고, 논리적 모델은 실제 데이터베이스 구조를 설계합니다. 마지막으로 물리적 모델은 실제 데이터베이스 관리 시스템에 맞게 데이터베이스를 구현하는 방법을 결정합니다.

데이터베이스 설계를 효과적으로 수행하기 위해서는 데이터베이스 관련 이론(SQL, UML, DB 테이블 등)과 기술에 대한 깊은 이해와 함께 프론트 개발자-디자이너 등 내부 인력과의 원활한 커뮤니케이션이 필요합니다. 또한 변화하는 요구사항에 대응하기 위해 사용자의 입장에 서서 유연하고 확장 가능한 설계를 고려하는 것이 중요합니다.

간결하게 말하자면, 데이터베이스 설계는 데이터를 구조화하고 관리하기 위한 체계적이고 효율적인 방법을 결정하는 과정으로, 데이터베이스 시스템의 기반이 됩니다.

-TO DO-
(어떻게 3.4를 분배할 것인지 논의 필요)
(저(진영)도 힘을 보태고 싶습니다!)
-TO DO-

### 03.4.2 데이터베이스 중요성
---
### 03.4.3 데이터베이스 설계 시 고려사항

데이터배이스 설계 시 고려사항으로 정규화가 있습니다. 정규화란 데이터베이스의 중복을 제거하여 무결성을 유지하고 효율적으로 관리하기 위해 정보를 분리하여 저장하는것으로 정규화 단계에 따라 1NF > 2NF > 3NF > BCNF > 4NF > 5NF 정규화로 나눠집니다.일반적으로 실무에서 BCNF단계 이상은 진행하지 않습니다. 정규화를 진행하면서 연산이 늘어나 응답시간이 느려지기 때문이죠. 때문에 실무에서 적절한 중복을 허용하면서 적절한 응답시간을 가지게 됩니다.

정규화의 장점
- 데이터베이스에서 발생하는 이상현상(Anomaly) 발생빈도를 줄일 수 있다.
- 정규화된 데이터베이스는 중복을 피해 일관성을 유지할 수 있다.
- 데이터의 중복을 줄여 저장공간을 절약하고 업데이트 시 중복된 데이터의 업데이트 감소.

정규화의 단점
- 데이터가 여러 테이블에 나눠져 저장되므로 데이터를 검색하는데 조인 연산 증가.
- 조인 연산 증가로 인해 성능저하 발생.
- 복잡성 증가로 데이터베이스를 관리하는데 드는 시간(비용) 증가.

**1. 제1 정규화(1NF)**

- 각 컬럼은 원자적인 값(Atomic Value)만을 가지며, 다중값을 포함하지 않습니다.
- 각 컬럼은 같은 타입의 값을 가져야 합니다.
- 즉 한칸에 하나의 데이터만 작성하도록 중복을 제거하는 작업입니다.

**2. 제2 정규화(2NF)**

- 1NF를 만족하면서 부분 함주 종속을 제거하는 단계입니다.
- 테이블의 모든 컬럼이 기본키에 대해 완전 함수 종속이여야 합니다.


**3. 제3 정규화(3NF)**

- 2NF를 만족하면서 이행 함수 종속을 제거하는 단계입니다.
- 속성에 종속적인 속성을 분리합니다.

**4. BCNF(Boyce-codd Normal Form)**

- 3NF를 만족하면서 결정자 함수 종속을 제거하는 단계입니다.
- 결정자 후보 키가 아닌 함수 종속을 제거합니다.

**5. 제4 정규화(4NF)**

- 3NF를 만족하면서 다치 종속성을 제거하는 단계입니다.
- 특정 속성값에 따라 선택적인 속성을 분리합니다.

**6. 제5 정규화(5NF)**

- 4NF를 만족하면서 후보키를 통하지 않는 조인종속을 제거하는 단계입니다.
- 어떤 릴레이션의 R의 모든 조인 종속성의 만족이 R의 후보키를 통해서만 만족됩니다.

### 03.4.4 데이터베이스 설계하기

데이터 설계 단계로 요구조건 분석, 개념적 설계, 논리적 설계, 물리적 설계가 있습니다. 

1. 첫번째 요구조건 분석 단계에서 도출된 요구사항 간 상충되는 부분을 해결하고 그 범위를 파악하여 테이터에 대한 요구를 분석하는 단계입니다. 요구사항을 어떻게 반영할지 정하는 단계로 방향을 결정하는 중요한 단계입니다. 

2. 다음은 개념적 설계입니다. 사용자 요구에 대한 트렌잭션을 모델링하는 단계로, 비즈니스 요구사항에 기반하여 엔티티, 속성, 관계 등을 설계하는 과정이 포함됩니다.

3. 논리적 설계에서 트랜젝션의 인터페이스를 설계하는 단계입니다. 개념적 모델을 데이터베이스 시스템에 맞게 변환하는 단계입니다.

4. 마지막 물리적 설계 단계에서 논리 데이터 모델을 DBMS의 특성 및 성능을 고려하여 물리적인 스키마를 만드는 단계입니다. 테이블, 인덱스, 제약조건등을 설계합니다. 여기서 응답시간, 저장 공간, 트랜잭션 처리를 고려하여 설계해야 합니다. 속도를 위해 일부 테이블에 중복을 허용하는 **반정규화**를 수행할 수 있습니다.

여기서 트랜잭션이란 데이터베이스 시스템에서 하나의 논리적 기능을 수행하기 위한 작업의 기본 단위로 데이터의 **원자성**, **일관성**, **고립성**, **영속성**이 지켜져야 합니다. 원자성은 한 작업단위의 연산 전체가 모두 정상적으로 실행되거나, 모두 취소되어야 한다는 성질로 모든 연산이 성공 또는 모두 취소되어야 합니다. DBMS에서 Commit / Rollback 기능을 지원합니다. 일관성은 시스템이 가지고 있는 조건이 일관되게 있어야 한다는 것입니다. DB에 제약조건이 어떤 트랜잭션이 발생해도 항상 일돤되어야 한다는 특징입니다. 무결성 제약조건 및 병행제어 기능이 있습니다. 고립성은 동시에 실행되는 작업들이 서로 영향을 미치지 않아야 한다는 특징입니다. 작업이 모두 반영되기 전까지 다른 트랜잭션이 현재 데이터에 대한 무결성을 해치지 않도록 잠금을 설정할 수 있습니다. 영속성은 성공한 트랜잭션은 DB에 반영되어야 한다는 특징입니다. 장애가 발생하더라도 회복기법을 통해 트랜잭션 도중 손상된 데이터 베이스를 정상적인 상태로 복구해야합니다. 



- ERD 설계하기


(출처 참고)  
https://blog.naver.com/naive_49/223296165717 (디비 설계의 중요성)  
https://blog.naver.com/siaxxx/223264520265 (개념적 설계 단계)  
https://blog.naver.com/siaxxx/223264525633 (ERD 작성)  
https://www.developerfastlane.com/blog/database-design-sequence-for-backend-developers (데이터베이스 설계 순서 및 방법)  
https://yeongunheo.tistory.com/entry/DB-%EC%84%A4%EA%B3%84%ED%95%98%EB%8A%94-%EB%B2%95-feat-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81 (테이블 설계 예시)  
https://velog.io/@sontulip/how-to-db-design (db 설계 상세 예시)  
https://velog.io/@woody_/Chapter-15.-ERD%EC%99%80-%EB%AA%A8%EB%8D%B8%EB%A7%81 (데이터 모델링 간단정리 - 이해 쉬움)  



---
# Archive
# ❗️이 아래 자료는 무시 ❗️
---

# 목차 고민중
# 03. 설계: "설계 계획 진행하는 법, 내가 알려줄게!"
!알아두기! (3~4줄 작성)
1. 설계 개요
-  설계 단계에서 진행되는 것

2. 시스템 아키텍쳐 설계
- 전체 구조 설계
- 하드웨어 및 소프트웨어 구성 요소 설계

3. 모듈 설계
- 기능적 모듈 설계
- 데이터 구조 설계
- 알고리즘 설계

4 인터페이스 설계
- 사용자 인터페이스 설계
- 와이어프레임과 프로토타입

5 데이터베이스 설계
- 데이터베이스 구조 설계 (저장 및 관리 방법 정의, 모델링?)
- 스키마 및 테이블 설계
- ERD

6 시스템 검증 계획 수립
- 테스트 계획 수립
- 검증 방법 정의
---
###  간단 버전
1. 기능정의서
2. 메인 프로토타입
3. 정보구조도 (IA)
4. 화면설계서 (스토리보드, UI/UX 설계서)
5. 진척관리 (WBS 기반 진척관리 병행 중요)
6. ERD
7. 테이블 몰록
8. 테이블 정의서
9. 프로그램 목록 (클래스 다이어그램, 컴포넌트 명세서, 클래스 정의서 등 포함 가능)
10. 개발표준 정의서 (변수명, brace, 클래스네임, 파일명, 규칙 등 코딩 관련 규칙)
11. 단테, 통테 시나리오

설계단계란?
- 분석 단계의 결과물을 토대로 구현 단계에 필요한 것들을 설계하는 단계
- 크게 데이터베이스 설계, 화면설계, 정보 설계 진행
- 공통 모듈과 단위 프로그램 기능을 정의함
- 테스트 시나리오를 이 때 병행하여 작성하기도 함

  설계단계 프로세스참고: https://blog.naver.com/agapeuni/221236321010

설계단계란?
분석 단계에서 정의된 요구사항 분석 결과를 기반으로 기능, 인터페이스, 데이터를 정의하여
구현단계에서 원활히 디자인, 퍼블, 개발이 시스템을 구축할 수 있는 작업을하는 단계다.
설계단계의 산출물은 문서형태로 나오게 되며, 이 문서에 따라 프로젝트의 결과물이 달라질 수 있다.

설계는 프로세스 설계, 인터페이스 설계, 데이터 설계로 나눌 수 있는데,
분석단계에서 미처 확인하지 못한 요구사항 등이 새롭게 추가되기도 한다.

도입단계에서 정의된 요구사항에 따라 우선 큰 그림을 그린다 (시스템 아키텍처를 설계해서)
인터페이스 설계를 한다.


데이터 설계란?
요구사항 분석, 개념 데이터 설계, 논리 데이터 설계, 물리 데이터 설계, 테이블 정의서 작성

출처:각 단계별 정의 + 데이터 설계< 프로세스 설계, 인터페이스 설계. 포르젝트 설계 개념 등 포함
https://multicore-it.com/57?category=686774



설계단계에서 가장 큰 임무
1. 정보설계 - 메뉴구조도, 기능정의서
2. 화면설계 - 스토리보드
3. DB 설계 - 테이블정의서 및 ERD
4. 테스트 설계 - 시나리오 작성
5. 프로그램 목록 정의 - 프로그램 명세서

3뎁스 메뉴가 1,500자 정도
