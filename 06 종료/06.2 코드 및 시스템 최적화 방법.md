## 06.2 코드 및 시스템 최적화 방법

프로젝트에서 테스트 종료 후 발견되는 결함과 실무 적용 시 발생하는 이슈에 대해서 생각해볼 필요가 있습니다. 테스트 단계에서 결함들을 찾았다고 가정할 때 가장 먼저 해야 할 것은 수정보다 우선순위를 매기는 것입니다. 발견된 문제를 해결하는 것도 개발자의 시간, 즉 회사의 가장 중요한 자원이 들어가는 과정이기 때문에 계획이 필요합니다. 이게 문제인가? 내가 발견한 문제가 과연 진짜 고객의 니즈를 해결하는 것인가? 기능을 추가하는 것보다 더 많은 가치는 부여하는 것은 무엇일까? 개발 자원이 부족한게 아니라 비효율적으로 작업을 진행한 것은 아닌지 등 다양한 고민을 함으로써 1줄의 코드 없이 복잡한 문제를 해결하는 과정이 될 수 있습니다. 이번 목차에서는 최적화 전에 고려해야 할 사항들 그리고 최적화 단계에서 사용되는 것들에 대해 알아봅시다.

### 06.2.1 이걸 고쳐야할까?

앞에서 말씀드렸듯이 코드를 수정하기 전에 이걸 고쳐야 하는 문제인가? 우선 고민해야 합니다. 즉 해결해야 할 문제인지 아닌지를 먼저 파악해야 합니다. 한가지 예시로 비효율적인 코드로 인해 동작하는데 10초가 걸리는 작업이 생겼고, 이를 0.2초가 걸리는 작업으로 개선한 것은 좋은 해결방법입니다. 그러나 0.2초가 걸리는 작업을 0.1초로 개선할 수 있을 때 개발시간, 작업량 대비 얼마나 효과가 있을지 고려해야 합니다. 시스템의 우선순위가 낮은 부분에서 0.1초를 개선하는데 자원을 투입하는 것 보다 다른 우선순위가 높은 부분에 대해 문제 해결 및 유지보수를 진행하는 것이 더 효율적일 수 있기 때문입니다. 해결해야 하는 문제라면 문제의 심각성과 시스템에 미치는 영향을 바탕으로 우선순위를 선정하고, 문제를 해결하는데 드는 비용과 얻을 수 있는 이득을 분석하여 문제 해결에 드는 비용 / 유지보수 비용에서 얼마나 큰 이득을 얻을 수 있는지 평가해야 합니다.

### 06.2.2 코드 최적화

한 소프트웨어가 적은 자원으로 높은 효율을 내는 것을 최적화가 잘 되어있다고 말합니다. 최적화된 소프트웨어는 최적화되지 않은 것에 비해 적은 메모리를 사용하며 실행시간을 단축할 수 있습니다. 반대로 최적화가 되어있지 않다면 많은 자원을 소모하는 데 비해 더 적은 성능으로 이어집니다. 사람들에게 체감되는 예시 중 하나로 게임이 있습니다. 최적화가 잘되었다는 소리를 듣는 게임은 컴퓨터 성능이 낮은 환경에서도 높은 퍼포먼스를 보여줍니다. 반대로 게임 출시 초기에 최적화 문제가 있는 게임들을 높은 성능의 컴퓨터가 있더라도 낭비되는 자원으로 인해 낮은 퍼포먼스를 보여주게 됩니다. 말씀드리고 싶은 것은 최적화는 고객 경험에 가장 크게 이바지하는 요소 중 하나이며, 꼭 필요한 과정중 하나라고 생각합니다.

- **알고리즘 개선**

최적화 방법 중 기본은 적합한 알고리즘을 사용하는 것입니다. 효율적인 알고리즘을 사용한다는 전제로 최적화를 진행하며 비효율적인 알고리즘을 사용하며 여러 최적화 기법들을 도입한다면 큰 개선을 얻을 수 없습니다. 잘 선택된 알고리즘은 프로그램의 성능과 효율성에 많은 영향을 미칩니다. 예를 들어, 정렬 알고리즘을 살펴보겠습니다. 배열을 정렬하는 여러 가지 알고리즘이 있지만, 배열의 크기가 크고 정렬이 자주 발생하면 퀵 정렬과 같은 빠른 알고리즘이 성능 개선에 도움이 될 수 있습니다. 반면 배열의 크기가 작거나 정렬이 드물게 발생하면 삽입 정렬과 같은 간단한 알고리즘이 더 효율적일 수 있습니다. 따라서 어떤 공간에 얼마의 계산이 발생하는지에 따라 **시간 복잡도**와 **공간 복잡도**를 고려하여 선택해야 합니다. 다른 예시로 데이테베이스에서 데이터를 저장할 때 검색 속도를 높이기 위해 인덱스를 사용합니다. 인덱스를 통해 특정 열의 값을 빠르게 찾을 수 있으며 데이터의 무결성을 보장하고 일관성을 유지해줍니다. 인덱스를 저장하는 과정으로 헤시 테이블을 사용하며 해시 함수는 입력 값을 고정된 길이의 해시 값으로 매핑하는 함수입니다. 해시 함수에 열의 값을 입력하여 해시 값을 생성합니다. 나중에 데이터를 검색할 때는 검색할 데이터의 키를 해시 함수에 입력하여 해시 값을 생성합니다. 그런 다음 해당 해시 값으로 해시 테이블에서 데이터를 찾습니다. 이처럼 효율적인 알고리즘을 적용하여 여러분의 프로젝트 중 발생한 문제들을 해결할 수 있습니다.

- **성능 분석 및 모니터링**

다음으로 성능 분석 및 모니터링입니다. 모니터링을 통해 시스템의 성능을 평가하고 문제를 식별할 수 있습니다. 또한, 과정에서 발견된 결함들을 해결함으로써 전체적인 성능을 향상할 수 있습니다. 모니터링의 성능지표로 CPU 사용량, 메모리 사용량, 네트웨크 트래픽, 응답시간, API 요청 횟수 등의 지표를 활용하여 성능을 측정하고 모니터링을 통해 가장 시간이 오래 걸리며 컴퓨팅 자원을 소모하는 부분을 찾을 수 있습니다.
이 과정에서 특정 부분이 과도한 자원을 점유하고 있는 부분을 찾아 병목현상을 해결할 수 있습니다.
